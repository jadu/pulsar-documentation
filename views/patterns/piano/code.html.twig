{% extends '@pulsar/pulsar/components/tab.html.twig' %}
{% import 'helpers/example.html.twig' as docs %}

{% block tab_content %}
<div class="report">
    <p class="lede">The paino pattern allows you to switch between different panels of content within the same UI. Commonly used in integration and messages UIs.</p>

    <figure>
        <img src="/views/patterns/piano/img/piano.png" alt="Screenshot showing the layout of an piano UI" />
    </figure>

    {{ docs.heading('h2', 'Dependencies') }}

    <p>You will need to import the <code>_component.piano.scss</code> sass partial in your main sass file.</p>

    <pre><code lang="sass">@import '/path/to/pulsar/stylesheets/component.piano';</code></pre>


    {{ docs.heading('h2', 'Example (integrations)') }}

    <p>For more information on the integrations pattern, see the <a href="/patterns/integrations">integrations pattern page</a>.</p>

    {{ docs.example({
        twig: "
<div class=\"piano-wrapper\">
    <div class=\"piano\">
        <ul class=\"piano__items\">
            <li class=\"piano__item is-selected\">
                <a href=\"#\">
                    <div class=\"piano__item-header\">
                        {{
                            html.media({
                                'image': '/views/patterns/piano/img/address_finder.png',
                                'title': 'Address Finder',
                                'description': 'Address lookups via your custom-built address finder service',
                                'action': html.status('active', {
                                    'title': 'integration enabled'
                                })
                            })
                        }}
                    </div>
                </a>

                <section class=\"piano__item-content\" aria-labelledby=\"example-piano-heading\">
                    <header class=\"piano__item-content-header\">
                        <h2 id=\"example-piano-heading\" class=\"u-margin-bottom-none\">Address Finder</h2>
                    </header>

                    <p>Connect to your custom-built address finder service by entering the connection details below. Note, your service must follow the specification to be compatible.</p>

                    <div class=\"masterswitch\">
                        {{
                            form.create()
                        }}

                            {{
                                form.toggle_switch({
                                    'class': 'masterswitch-control',
                                    'label': 'Enable integration',
                                    'id': 'toggletest',
                                    'checked': true
                                })
                            }}

                            <hr/>

                            <div class=\"masterswitch-content\">
                                {{
                                    form.text({
                                        'label': 'Authentication Key',
                                        'class': 'form__group--full',
                                        'id': 'addressFinderAuthKey',
                                        'name': 'addressFinderAuthKey',
                                        'required': true,
                                        'help': 'API key used by the system when making API requests'
                                    })
                                }}

                                {{
                                    form.text({
                                        'label': 'Configuration file location',
                                        'class': 'form__group--full',
                                        'id': 'addressFinderConfigLocation',
                                        'name': 'addressFinderConfigLocation',
                                        'required': true,
                                        'help': 'URL for the location of the configuration JSON file. Must be HTTPS'
                                    })
                                }}
                            </div>


                        {{
                            form.end({
                                'actions': [
                                    html.button({
                                        'label': 'Save',
                                        'class': 'btn--primary'
                                    }),
                                    html.button({
                                        'label': 'Cancel',
                                        'class': 'btn--naked'
                                    })
                                ]
                            })
                        }}
                    </div>
                </section>
            </li>
            <li class=\"piano__item\">
                <a href=\"#\">
                    <div class=\"piano__item-header\">
                        {{
                            html.media({
                                'image': '/views/patterns/piano/img/aws_lex.png',
                                'title': 'AWS Simple Email Service',
                                'description': 'Send emails with the AWS Simple Email Service',
                                'action': html.status('inactive', {
                                    'title': 'integration disabled'
                                })
                            })
                        }}
                    </div>
                </a>
            </li>
            <li class=\"piano__item\">
                <a href=\"#\">
                    <div class=\"piano__item-header\">
                        {{
                            html.media({
                                'image': '/views/patterns/piano/img/cxm.png',
                                'title': 'Jadu Deployer',
                                'description': 'OAuth Client',
                                'action': html.status('inactive', {
                                    'title': 'integration disabled'
                                })
                            })
                        }}
                    </div>
                </a>
            </li>
            <li class=\"piano__item\">
                <a href=\"#\">
                    <div class=\"piano__item-header\">
                        {{
                            html.media({
                                'image': '/views/patterns/piano/img/mailgun.png',
                                'title': 'Mailgun',
                                'description': 'Send emails via Mailgun',
                                'action': html.status('inactive', {
                                    'title': 'integration disabled'
                                })
                            })
                        }}
                    </div>
                </a>
            </li>

            <li class=\"piano__item\">
                <a href=\"#\">
                    <div class=\"piano__item-header\">
                        {{
                            html.media({
                                'image': '/views/patterns/piano/img/singlepoint.png',
                                'title': 'SinglePoint',
                                'description': 'Allow address lookup by postcode in forms',
                                'action': html.status('inactive', {
                                    'title': 'integration disabled'
                                })
                            })
                        }}
                    </div>
                </a>
            </li>
        </ul>
    </div>
</div>
    " }) }}

    {{ docs.heading('h2', 'Example (messages)') }}

    {{ docs.example({
        twig: "
<div class=\"piano-wrapper\">
    <div class=\"piano\">
        <ul class=\"piano__items\">
            <li class=\"piano__item is-selected\">
                <a href=\"#\">
                    <div class=\"piano__item-header\">
                        <strong class=\"piano__user\">
                            <img src=\"http://upload.wikimedia.org/wikipedia/en/thumb/4/4d/Thenightisstillyoung.jpg/220px-Thenightisstillyoung.jpg\" class=\"piano__avatar\" alt=\"\">
                            {{
                                html.badge({
                                    'class': 'badge--primary piano__item-badge',
                                    'label': '1',
                                    'aria-label': 'There is 1 message in this conversation',
                                    'data-tippy-content': 'There is 1 message in this conversation'
                                })
                            }}
                            Billy Joel
                        </strong>
                        <p class=\"piano__title\">Message title</p>
                        <time class=\"piano__time\" datetime=\"2020-02-05 16:02:51\">05/02/2020 16:25</time>
                    </div>
                </a>

                <section class=\"messages piano__item-content\" aria-labelledby=\"message-heading\">
                    <header class=\"piano__item-content-header\">
                        <h2 id=\"message-heading\" class=\"u-margin-bottom-none\">Message title</h2>
                    </header>

                     <div class=\"message\">
                        <div class=\"message__meta\">
                            <ol class=\"message__meta-list\">
                                <li>From: Billy Joel</li>
                                <li>To: Customer, Support</li>
                                <li>Sent: <time datetime=\"2020-02-05 16:02:51\">05/02/2020 16:25</time><li>
                            </ol>
                        </div>

                        <div class=\"message-body\">
                            <p>It's nine o'clock on a Saturday
                            The regular crowd shuffles in<br />
                            There's an old man sitting next to me
                            Making love to his tonic and gin</p>
                        </div>
                    </div>

                    <form class=\"form piano__form\" method=\"pos\" action=\"/foo\">
                        {{
                            form.textarea({
                                'id': 'guid-' ~ random(),
                                'label': 'Reply',
                                'class': 'form__group--top form__group--flush form__group--full',
                                'name': 'messageReply',
                                'required': true
                            })
                        }}

                        {{
                            html.button({
                                'class': 'btn--primary',
                                'label': 'Send Reply',
                                'type': 'submit'
                            })
                        }}
                    </form>


                </section>
            </li>
            <li class=\"piano__item\">
                <a href=\"#\">
                    <div class=\"piano__item-header\">
                        <strong class=\"piano__user\">
                            <img src=\"http://upload.wikimedia.org/wikipedia/en/thumb/4/4d/Thenightisstillyoung.jpg/220px-Thenightisstillyoung.jpg\" class=\"piano__avatar\" alt=\"\">
                            {{
                                html.badge({
                                    'class': 'badge--primary piano__item-badge',
                                    'label': '1',
                                    'aria-label': 'There is 1 message in this conversation',
                                    'data-tippy-content': 'There is 1 message in this conversation'
                                })
                            }}
                            Billy Joel
                        </strong>
                        <p class=\"piano__title\">Another message</p>
                        <time class=\"piano__time\" datetime=\"2020-02-05 16:02:51\">05/02/2020 16:25</time>
                    </div>
                </a>
            </li>
        </ul>
    </div>
</div>
    " }) }}
</div>
{% endblock tab_content %}
{% block tab_sidebar %}
    {{ docs.toc() }}
{% endblock tab_sidebar %}